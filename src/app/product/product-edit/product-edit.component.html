<div class="product-form-container">
  <h3>{{ formName }}</h3>
  <form [formGroup]="productForm" (ngSubmit)="onSubmit()">
    <p>
      <mat-form-field appearance="outline">
        <mat-label>Name</mat-label>
        <input
          type="text"
          matInput
          placeholder="Please enter the product name"
          formControlName="name"
        />
        <mat-error
          *ngIf="
            productForm.controls.name.touched &&
            productForm.controls.name.hasError('required')
          "
        >
          Name is <strong>required</strong>
        </mat-error>
      </mat-form-field>
    </p>

    <p>
      <mat-form-field appearance="outline">
        <mat-label>Code</mat-label>
        <input
          type="text"
          matInput
          placeholder="Please enter the product code"
          formControlName="code"
        />
        <mat-error
          *ngIf="
            productForm.controls.code.touched &&
            productForm.controls.code.hasError('required')
          "
        >
          Code is <strong>required</strong>
        </mat-error>
      </mat-form-field>
    </p>

    <p>
      <mat-form-field appearance="outline">
        <mat-label>Description</mat-label>
        <textarea
          matInput
          placeholder="Please add the product description"
          formControlName="description"
        ></textarea>
      </mat-form-field>
    </p>

    <p>
      <input
        type="file"
        class="hidden"
        formControlName="images"
        (change)="selectFiles($event)"
        #fileInput
      />
      <button type="button" mat-stroked-button (click)="fileInput.click()">
        Select Images
      </button>
    </p>
    <p class="selected-images" *ngFor="let file of files">
      <img [src]="file.url" alt="" width="25" />
      <span> {{ file.name }} </span>
    </p>
    <hr />
    <p>
      <button
        mat-flat-button
        color="primary"
        type="submit"
        [disabled]="productForm.status === 'INVALID'"
      >
        Save Product
      </button>
    </p>
  </form>
</div>
